(library 
 (name cross_test_js)
 (modes melange)
 (modules :standard)
 (libraries reason-react)
 (preprocess
  (pps melange.ppx reason-react-ppx server-reason-react.browser_ppx)))

; this simply builds the melange version of the same code tested in the native folder to ensure 
; that the interfaces of server-reason-react line up with reason-react
(melange.emit
  (target main)
  (alias js)
  (module_systems es6)
  (modules)
  (libraries cross_test_js))

(copy_files# "../native/shared/test_context.re")
